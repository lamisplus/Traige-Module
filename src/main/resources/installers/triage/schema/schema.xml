<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">

    <property name="autoIncrement" value="true"/>

    <changeSet id="20222305-001" author="amos-data-fi">
        <sql>
            CREATE TABLE IF NOT EXISTS vital_sign
            (
                id                 BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                created_date       TIMESTAMP WITHOUT TIME ZONE,
                created_by         VARCHAR(255),
                last_modified_date TIMESTAMP WITHOUT TIME ZONE,
                last_modified_by   VARCHAR(255),
                body_weight        DOUBLE PRECISION,
                diastolic          DOUBLE PRECISION,
                encounter_date     date,
                height             DOUBLE PRECISION,
                temperature        DOUBLE PRECISION,
                pulse              DOUBLE PRECISION,
                respiratory_rate   DOUBLE PRECISION,
                person_id          BIGINT,
                visit_id    BIGINT,
                facility_id        BIGINT,
                systolic           DOUBLE PRECISION,
                archived           INTEGER,
                uuid               VARCHAR(255),
                CONSTRAINT pk_vital_sign PRIMARY KEY (id)
            );

            ALTER TABLE vital_sign
                ADD CONSTRAINT FK_VITAL_SIGN_ON_PERSON FOREIGN KEY (person_id) REFERENCES person (id);
        </sql>
    </changeSet>

    <changeSet id="2022305-002" author="amos-data-fi">
        <sql>
            CREATE TABLE triage_post_service
            (
                id                  BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
                facility_id         BIGINT,
                module_service_code VARCHAR(255),
                module_service_name VARCHAR(255),
                encounter_type      VARCHAR(255),
                CONSTRAINT pk_triage_post_service PRIMARY KEY (id)
            );
        </sql>
    </changeSet>
</databaseChangeLog>
